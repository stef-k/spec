---
id: T-002
title: GroupPicker modal and last-selected persistence
status: todo
labels: [ui, api]
deps: [T-001]
owner: ""
inputs:
  - Groups.md
outputs: []
timebox: "2h"
---

## Summary
Implement a modal group picker launched from MyGroupsPage. Fetch groups via `GET /api/groups?scope=joined` (Bearer). Persist the selected group id in `SettingsStore` and update the page title/subtitle.

## Acceptance Criteria (measurable)
- [ ] Clicking the Group button opens a modal listing joined groups.
- [ ] Selecting a group closes the modal, persists the group id, and displays the group name.
- [ ] API call uses Bearer token from Settings; 401/403 show a friendly error.

## Steps
- [ ] Read inputs
- [ ] Add `SettingsStore` keys: `MyGroups_LastSelectedGroupId`
- [ ] Implement modal UI + API call to list groups
- [ ] Persist on selection; update page label
- [ ] Handle missing token/server with guidance

## Verification
- Command: `dotnet build -c Debug`
- API: `curl -H "Authorization: Bearer $TOKEN" "$SERVER/api/groups?scope=joined"`
- Manual: Select a group; relaunch app; confirm it auto-loads.

## Notes
Provide loading/empty states; reuse Timeline error patterns.

