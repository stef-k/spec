---
id: T-004
title: Deterministic per-user color mapping (mirror backend)
status: todo
labels: [ui]
deps: [T-002, T-003]
owner: ""
inputs:
  - Groups.md
outputs: []
timebox: "2h"
---

## Summary
Implement deterministic user color assignment identical to backend (username-hash → palette) and apply to member legend and markers. If backend exposes color in Members API, use that source of truth.

## Acceptance Criteria (measurable)
- [ ] Given a list of usernames, mapping returns the same hex color across sessions.
- [ ] Colors match backend (spot-check at least 5 users from web UI vs mobile).
- [ ] If backend returns `color`, mobile uses it; otherwise, uses mirrored algorithm.

## Steps
- [ ] Read inputs
- [ ] Implement hash→palette mapping or consume color from API
- [ ] Wire mapping into legend and marker styling
- [ ] Add small unit test (optional) to check stability for known usernames

## Verification
- Manual: Compare colors for specific users shown in backend group map vs mobile legend/markers.

## Notes
See “Backend Gaps” in Groups.md for palette exposure option.

