---
id: T-007
title: Today live flow integration with SSE and latest refresh
status: todo
labels: [sse, ui]
deps: [T-001, T-003, T-004, T-006]
owner: ""
inputs:
  - Groups.md
outputs: []
timebox: "2h"
---

## Summary
Wire SSE into `MyGroupsPage` for Today: subscribe per selected member, and on event refresh only that memberâ€™s latest (small call) and update map markers/legend with correct color and semantics.

## Acceptance Criteria (measurable)
- [ ] On Today, selected members stream updates and their markers move within ~2s of event.
- [ ] Switching off Today immediately stops streams.
- [ ] Legend counts or statuses reflect live updates.

## Steps
- [ ] Read inputs
- [ ] Subscribe/unsubscribe based on selection changes
- [ ] On event, call `GetLatestAsync(groupId, [userId])` and update layers
- [ ] Handle errors gracefully (401/403/toast)

## Verification
- Manual: Trigger a location update for a member; observe marker update without full reload.

## Notes
Throttle UI updates if bursts occur (see T-011).

